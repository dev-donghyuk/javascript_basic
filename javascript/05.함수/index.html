<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title></title>
   </head>
   <body></body>
   <script defer>
      /****함수***/

      // 함수 정의

      // - 함수 선언문
      function square_1(number) {
         return number * number;
      }
      // - 함수 선언문
      //   - 무명의 리터럴로 표현이 가능하다.
      //   - 변수나 자료 구조에 저장할 수 있다. => 일급 객체이기 때문 => 일급객체 : 생성, 대입, 연산, 인자 또는 반환값으로서의 전달 등 프로그래밍 언어의 기본적 조작을 제한없이 사용할 수 있는 대상
      //   - 함수의 파라미터로 전달할 수 있다.
      //   - 반환 값으로 사용할 수 있다.
      var square_2 = function (number) {
         return number * number;
      };

      // - Function 생성자 함수
      var square_3 = new Function('number', 'return number * number');
      console.log(square_3(10)); // 100
      // -------------------------------------------------------------------------------------------------------

      // 함수 호이스팅

      var res = square_4(5); // 함수가 늦게 선언되어도 호출 가능하다 => 함수 호이스팅

      function square_4(number) {
         return number * number;
      }

      var res = square_5(5); // TypeError: square_5 is not a function => 변수 호이스팅이 되어 변수에 값이 할당도 되기전에 호출하여 에러

      var square_5 = function (number) {
         return number * number;
      };
      // -------------------------------------------------------------------------------------------------------

      // 매개변수(parameter, 인자) vs 인수(argument)

      // - 매개변수는 함수 내에서 변수와 동일하게 메모리 공간을 확보하며 함수에 전달한 인수는 매개변수에 할당된다. 만약 인수를 전달하지 않으면 매개변수는 undefined로 초기화된다.

      var foo_1 = function (p1, p2) {
         console.log(p1, p2);
      };

      foo_1(1); // 1 undefined

      // -------------------------------------------------------------------------------------------------------

      // arguments

      function multiply(x, y) {
         console.log(arguments);
         return x * y;
      }

      multiply(); // {}
      multiply(1); // { '0': 1 }
      multiply(1, 2); // { '0': 1, '1': 2 }
      multiply(1, 2, 3); // { '0': 1, '1': 2, '2': 3 }

      // arguments.length
      // - 인수의 개수
      function foo_2() {}
      console.log(foo_2.length); // 0

      function bar_1(x) {
         return x;
      }
      console.log(bar_1.length); // 1

      function baz_1(x, y) {
         return x * y;
      }
      console.log(baz_1.length); // 2

      // arguments.caller
      // - 자신을 호출한 함수

      function foo_3(func) {
         var res = func();
         return res;
      }

      function bar_2() {
         return 'caller : ' + bar_2.caller;
      }

      console.log(foo_3(bar_2)); // caller : function foo_3(func) {...}
      console.log(bar_2()); // null

      // arguments.name
      // - 함수명

      var namedFunc = function multiply(a, b) {
         return a * b;
      };
      var anonymousFunc = function (a, b) {
         return a * b;
      };

      console.log(namedFunc.name); // multiply
      console.log(anonymousFunc.name); // ''

      // -------------------------------------------------------------------------------------------------------

      // 즉시 실행 함수
      // - 기명 즉시 실행 함수
      (function myFunction() {
         var a = 3;
         var b = 5;
         return a * b;
      })();

      // - 익명 즉시 실행 함수
      (function () {
         var a = 3;
         var b = 5;
         return a * b;
      })();

      // -------------------------------------------------------------------------------------------------------

      // 재귀 함수

      function fibonacci(n) {
         if (n < 2) return n;
         return fibonacci(n - 1) + fibonacci(n - 2);
      }

      console.log(fibonacci(0)); // 0
      console.log(fibonacci(1)); // 1
      console.log(fibonacci(2)); // 1
      console.log(fibonacci(3)); // 2
      console.log(fibonacci(4)); // 3
      console.log(fibonacci(5)); // 5
      console.log(fibonacci(6)); // 8
   </script>
</html>
