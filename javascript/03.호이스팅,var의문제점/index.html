<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title></title>
   </head>
   <body></body>
   <script defer>
      console.log(foo); // undefined => error가 나지 않는 이유는 호이스팅이 되기 때문이다.
      var foo = 123;
      console.log(foo); // 123
      {
         var foo = 456;
      }
      console.log(foo); // 456

      /*호이스팅*/
      // - 호이스팅이란 var 선언문이나 function 선언문 등 모든 선언문이 해당 Scope의 선두로 옮겨진 것처럼 동작하는 특성이다.
      // - 즉, 자바스크립트의 모든 선언문은 선언되기 이전에 참조가 가능하다
      /* - var 키워드로 선언된 변수는 선언 단계와 초기화 단계가 한번에 이루어진다. 
         즉, 스코프에 변수가 등록되고 변수는 메모리에 공간을 확보한 후 undefined로 초기화된다. 
         그래서 1번에서 선언문 이전에 변수에 접근하여도 VO(Variable Object)에 변수가 존재하여 에러가 발생 하지 않았다.
         이러한 현상을 변수 호이스팅이라고 한다. 그 후 할당문에 도달하면 값의 할당이 이루어진다.
      */

      /*var의 문제점*/
      // 1. 함수 레벨 스코프 : 전역 변수의 남발, for loop 초기화식에서 사용한 변수를 외부에서 참조할 수 있다.
      // 2. var 키워드 생략 허용 : 의도하지 않은 변수의 전역화
      // 3. 중복 선언 허용 : 의도하지 않은 변수 값 변경
      // 4. 변수 호이스팅 : 변수를 선언하기 전에 참조가 가능하다.

      // - 대부분의 문제는 전역 변수로 인해 발생한다.
      // - 이러한 단점을 보완하기 위해 let과 const 키워드를 도입하였다.
   </script>
</html>
